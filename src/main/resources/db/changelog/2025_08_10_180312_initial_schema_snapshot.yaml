databaseChangeLog:
- changeSet:
    id: 1754823821503-1
    author: elhakimdev99 (generated)
    changes:
    - createTable:
        columns:
        - column:
            constraints:
              nullable: false
              primaryKey: true
              primaryKeyName: batch_data_holderPK
            name: id
            type: raw(16)
        - column:
            constraints:
              nullable: false
            name: created_at
            type: TIMESTAMP(6)
        - column:
            name: created_by
            type: VARCHAR2(255 CHAR)
        - column:
            constraints:
              nullable: false
            name: is_deleted
            type: NUMBER(1, 0)
        - column:
            name: deleted_at
            type: TIMESTAMP(6)
        - column:
            name: deleted_by
            type: VARCHAR2(255 CHAR)
        - column:
            constraints:
              nullable: false
            name: updated_at
            type: TIMESTAMP(6)
        - column:
            name: updated_by
            type: VARCHAR2(255 CHAR)
        - column:
            constraints:
              nullable: false
            name: batchId
            type: VARCHAR2(255 CHAR)
        - column:
            constraints:
              nullable: false
            name: entityType
            type: VARCHAR2(255 CHAR)
        - column:
            constraints:
              nullable: false
            name: payload
            type: CLOB
        tableName: batch_data_holder
- changeSet:
    id: 1754823821503-2
    author: elhakimdev99 (generated)
    changes:
    - createTable:
        columns:
        - column:
            constraints:
              nullable: false
              primaryKey: true
              primaryKeyName: password_reset_tokensPK
            name: id
            type: raw(16)
        - column:
            constraints:
              nullable: false
            name: created_at
            type: TIMESTAMP(6)
        - column:
            name: created_by
            type: VARCHAR2(255 CHAR)
        - column:
            constraints:
              nullable: false
            name: is_deleted
            type: NUMBER(1, 0)
        - column:
            name: deleted_at
            type: TIMESTAMP(6)
        - column:
            name: deleted_by
            type: VARCHAR2(255 CHAR)
        - column:
            constraints:
              nullable: false
            name: updated_at
            type: TIMESTAMP(6)
        - column:
            name: updated_by
            type: VARCHAR2(255 CHAR)
        - column:
            constraints:
              nullable: false
            name: attempt_count
            type: NUMBER(10, 0)
        - column:
            name: blocked_until
            type: TIMESTAMP(6)
        - column:
            name: completed_at
            type: TIMESTAMP(6)
        - column:
            constraints:
              nullable: false
            name: expires_at
            type: TIMESTAMP(6)
        - column:
            name: hash_algorithm
            type: VARCHAR2(20 CHAR)
        - column:
            constraints:
              nullable: false
            name: hash_iterations
            type: NUMBER(10, 0)
        - column:
            name: hash_iv
            type: CLOB
        - column:
            name: hash_key
            type: CLOB
        - column:
            name: hash_salt
            type: CLOB
        - column:
            name: hash_tag
            type: CLOB
        - column:
            name: ip_address_completion
            type: VARCHAR2(45 CHAR)
        - column:
            name: ip_address_request
            type: VARCHAR2(45 CHAR)
        - column:
            constraints:
              nullable: false
            name: max_attempts
            type: NUMBER(10, 0)
        - column:
            constraints:
              nullable: false
            name: status
            type: VARCHAR2(255 CHAR)
        - column:
            constraints:
              nullable: false
            name: token_hash
            type: VARCHAR2(255 CHAR)
        - column:
            name: user_agent_completion
            type: CLOB
        - column:
            name: user_agent_request
            type: CLOB
        - column:
            constraints:
              nullable: false
            name: user_id
            type: raw(16)
        tableName: password_reset_tokens
- changeSet:
    id: 1754823821503-3
    author: elhakimdev99 (generated)
    changes:
    - createTable:
        columns:
        - column:
            constraints:
              nullable: false
              primaryKey: true
              primaryKeyName: user_devicesPK
            name: id
            type: raw(16)
        - column:
            constraints:
              nullable: false
            name: created_at
            type: TIMESTAMP(6)
        - column:
            name: created_by
            type: VARCHAR2(255 CHAR)
        - column:
            constraints:
              nullable: false
            name: is_deleted
            type: NUMBER(1, 0)
        - column:
            name: deleted_at
            type: TIMESTAMP(6)
        - column:
            name: deleted_by
            type: VARCHAR2(255 CHAR)
        - column:
            constraints:
              nullable: false
            name: updated_at
            type: TIMESTAMP(6)
        - column:
            name: updated_by
            type: VARCHAR2(255 CHAR)
        - column:
            name: browser_name
            type: VARCHAR2(100 CHAR)
        - column:
            name: browser_version
            type: VARCHAR2(50 CHAR)
        - column:
            name: city
            type: VARCHAR2(100 CHAR)
        - column:
            name: country
            type: VARCHAR2(3 CHAR)
        - column:
            constraints:
              nullable: false
            name: device_fingerprint
            type: VARCHAR2(255 CHAR)
        - column:
            name: device_name
            type: VARCHAR2(255 CHAR)
        - column:
            constraints:
              nullable: false
            name: device_type
            type: NUMBER(3, 0)
        - column:
            constraints:
              nullable: false
            name: first_seen_at
            type: VARCHAR2(255 CHAR)
        - column:
            name: ip_address
            type: VARCHAR2(45 CHAR)
        - column:
            constraints:
              nullable: false
            name: is_current_device
            type: NUMBER(1, 0)
        - column:
            constraints:
              nullable: false
            name: last_login_at
            type: VARCHAR2(255 CHAR)
        - column:
            name: os_name
            type: VARCHAR2(100 CHAR)
        - column:
            name: os_version
            type: VARCHAR2(50 CHAR)
        - column:
            constraints:
              nullable: false
            name: status
            type: NUMBER(3, 0)
        - column:
            name: user_agent
            type: CLOB
        - column:
            constraints:
              nullable: false
            name: user_id
            type: raw(16)
        tableName: user_devices
- changeSet:
    id: 1754823821503-4
    author: elhakimdev99 (generated)
    changes:
    - createTable:
        columns:
        - column:
            constraints:
              nullable: false
              primaryKey: true
              primaryKeyName: usersPK
            name: id
            type: raw(16)
        - column:
            constraints:
              nullable: false
            name: created_at
            type: TIMESTAMP(6)
        - column:
            name: created_by
            type: VARCHAR2(255 CHAR)
        - column:
            constraints:
              nullable: false
            name: is_deleted
            type: NUMBER(1, 0)
        - column:
            name: deleted_at
            type: TIMESTAMP(6)
        - column:
            name: deleted_by
            type: VARCHAR2(255 CHAR)
        - column:
            constraints:
              nullable: false
            name: updated_at
            type: TIMESTAMP(6)
        - column:
            name: updated_by
            type: VARCHAR2(255 CHAR)
        - column:
            constraints:
              nullable: false
            name: email
            type: VARCHAR2(255 CHAR)
        - column:
            name: email_verified_at
            type: TIMESTAMP(6)
        - column:
            name: failed_login_attempts
            type: NUMBER(10, 0)
        - column:
            name: last_activity_at
            type: TIMESTAMP(6)
        - column:
            name: last_login_at
            type: TIMESTAMP(6)
        - column:
            name: last_login_ip
            type: VARCHAR2(45 CHAR)
        - column:
            name: locked_until
            type: TIMESTAMP(6)
        - column:
            name: login_count
            type: NUMBER(10, 0)
        - column:
            constraints:
              nullable: false
            name: name
            type: VARCHAR2(255 CHAR)
        - column:
            constraints:
              nullable: false
            name: usr_pwd
            type: VARCHAR2(255 CHAR)
        - column:
            name: password_changed_at
            type: TIMESTAMP(6)
        - column:
            name: remember_token
            type: VARCHAR2(100 CHAR)
        - column:
            constraints:
              nullable: false
            name: status
            type: VARCHAR2(255 CHAR)
        - column:
            name: two_factor_confirmed_at
            type: TIMESTAMP(6)
        - column:
            name: two_factor_recovery_codes
            type: JSON
        - column:
            name: two_factor_secret
            type: VARCHAR2(255 CHAR)
        tableName: users
- changeSet:
    id: 1754823821503-5
    author: elhakimdev99 (generated)
    changes:
    - createIndex:
        columns:
        - column:
            name: token_hash
        indexName: password_reset_tokens_XJVC_IX
        tableName: password_reset_tokens
        unique: true
- changeSet:
    id: 1754823821503-6
    author: elhakimdev99 (generated)
    changes:
    - addUniqueConstraint:
        columnNames: token_hash
        constraintName: UC_PASSWORD_RESET_TOKENSTOKEN_HASH_COL
        forIndexName: password_reset_tokens_XJVC_IX
        tableName: password_reset_tokens
- changeSet:
    id: 1754823821503-7
    author: elhakimdev99 (generated)
    changes:
    - createIndex:
        columns:
        - column:
            name: email
        indexName: idx_email
        tableName: users
- changeSet:
    id: 1754823821503-8
    author: elhakimdev99 (generated)
    changes:
    - addUniqueConstraint:
        columnNames: email
        constraintName: UC_USERSEMAIL_COL
        forIndexName: idx_email
        tableName: users
- changeSet:
    id: 1754823821503-9
    author: elhakimdev99 (generated)
    changes:
    - createIndex:
        columns:
        - column:
            name: device_fingerprint
        indexName: idx_device_fingerprint
        tableName: user_devices
- changeSet:
    id: 1754823821503-10
    author: elhakimdev99 (generated)
    changes:
    - addUniqueConstraint:
        columnNames: device_fingerprint
        constraintName: UC_USER_DEVICESDEVICE_FINGERPRINT_COL
        forIndexName: idx_device_fingerprint
        tableName: user_devices
- changeSet:
    id: 1754823821503-11
    author: elhakimdev99 (generated)
    changes:
    - createIndex:
        columns:
        - column:
            name: last_login_at
        - column:
            name: last_activity_at
        indexName: idx_activity_tracking
        tableName: users
- changeSet:
    id: 1754823821503-12
    author: elhakimdev99 (generated)
    changes:
    - createIndex:
        columns:
        - column:
            name: is_current_device
        indexName: idx_current_device
        tableName: user_devices
- changeSet:
    id: 1754823821503-13
    author: elhakimdev99 (generated)
    changes:
    - createIndex:
        columns:
        - column:
            name: country
        - column:
            name: city
        indexName: idx_device_location
        tableName: user_devices
- changeSet:
    id: 1754823821503-14
    author: elhakimdev99 (generated)
    changes:
    - createIndex:
        columns:
        - column:
            name: status
        indexName: idx_device_status
        tableName: user_devices
- changeSet:
    id: 1754823821503-15
    author: elhakimdev99 (generated)
    changes:
    - createIndex:
        columns:
        - column:
            name: device_type
        indexName: idx_device_type
        tableName: user_devices
- changeSet:
    id: 1754823821503-16
    author: elhakimdev99 (generated)
    changes:
    - createIndex:
        columns:
        - column:
            name: email
        - column:
            name: status
        indexName: idx_email_status
        tableName: users
- changeSet:
    id: 1754823821503-17
    author: elhakimdev99 (generated)
    changes:
    - createIndex:
        columns:
        - column:
            name: email_verified_at
        indexName: idx_email_verified
        tableName: users
- changeSet:
    id: 1754823821503-18
    author: elhakimdev99 (generated)
    changes:
    - createIndex:
        columns:
        - column:
            name: expires_at
        indexName: idx_expires_at
        tableName: password_reset_tokens
- changeSet:
    id: 1754823821503-19
    author: elhakimdev99 (generated)
    changes:
    - createIndex:
        columns:
        - column:
            name: failed_login_attempts
        indexName: idx_failed_attempts
        tableName: users
- changeSet:
    id: 1754823821503-20
    author: elhakimdev99 (generated)
    changes:
    - createIndex:
        columns:
        - column:
            name: last_activity_at
        indexName: idx_last_activity
        tableName: users
- changeSet:
    id: 1754823821503-21
    author: elhakimdev99 (generated)
    changes:
    - createIndex:
        columns:
        - column:
            name: last_login_at
        indexName: idx_last_login
        tableName: users
- changeSet:
    id: 1754823821503-22
    author: elhakimdev99 (generated)
    changes:
    - createIndex:
        columns:
        - column:
            name: last_login_at
        indexName: idx_last_login_device
        tableName: user_devices
- changeSet:
    id: 1754823821503-23
    author: elhakimdev99 (generated)
    changes:
    - createIndex:
        columns:
        - column:
            name: locked_until
        indexName: idx_locked_until
        tableName: users
- changeSet:
    id: 1754823821503-24
    author: elhakimdev99 (generated)
    changes:
    - createIndex:
        columns:
        - column:
            name: password_changed_at
        indexName: idx_password_changed
        tableName: users
- changeSet:
    id: 1754823821503-25
    author: elhakimdev99 (generated)
    changes:
    - createIndex:
        columns:
        - column:
            name: failed_login_attempts
        - column:
            name: locked_until
        indexName: idx_security_check
        tableName: users
- changeSet:
    id: 1754823821503-26
    author: elhakimdev99 (generated)
    changes:
    - createIndex:
        columns:
        - column:
            name: status
        indexName: idx_status
        tableName: users
- changeSet:
    id: 1754823821503-27
    author: elhakimdev99 (generated)
    changes:
    - createIndex:
        columns:
        - column:
            name: two_factor_confirmed_at
        indexName: idx_two_factor
        tableName: users
- changeSet:
    id: 1754823821503-28
    author: elhakimdev99 (generated)
    changes:
    - createIndex:
        columns:
        - column:
            name: user_id
        - column:
            name: device_fingerprint
        indexName: idx_user_device_fingerprint
        tableName: user_devices
- changeSet:
    id: 1754823821503-29
    author: elhakimdev99 (generated)
    changes:
    - createIndex:
        columns:
        - column:
            name: user_id
        indexName: idx_user_devices
        tableName: user_devices

